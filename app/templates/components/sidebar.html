<!-- Sidebar de Navegación Mejorado -->
<div class="fixed left-0 top-0 h-full w-64 bg-white border-r border-gray-200 flex flex-col">
    <!-- Logo -->
    <div class="flex items-center justify-center h-16 px-6 border-b border-gray-200">
        <img class="h-10 w-auto" src="{{ url_for('static', filename='img/logo.png') }}" alt="Logo Empresa">
    </div>
    
    <!-- Navegación -->
    <nav class="flex-grow overflow-y-auto p-4">
        <!-- Menú Principal -->
        <h3 class="px-3 text-xs font-semibold text-gray-500 uppercase tracking-wider mb-3">Menú Principal</h3>
        <div class="space-y-1">
            <a href="{{ url_for('dashboard') }}" class="group flex items-center px-3 py-2 text-sm font-medium rounded-md text-gray-700 hover:bg-gray-100 hover:text-indigo-600 transition">
                <i class="fas fa-chart-line w-5 h-5 mr-3 text-gray-400 group-hover:text-indigo-600"></i>
                Dashboard
            </a>

            <!-- Dropdown Cotizaciones -->
            <div x-data="{ open: false }" class="relative">
                <button @click="open = !open" class="flex items-center justify-between w-full px-3 py-2 text-sm font-medium rounded-md text-gray-700 hover:bg-gray-100 hover:text-indigo-600 transition">
                    <span class="flex items-center">
                        <i class="fas fa-file-invoice w-5 h-5 mr-3 text-gray-400 group-hover:text-indigo-600"></i>
                        Cotizaciones
                    </span>
                    <i class="fas fa-chevron-down text-xs text-gray-400 transition-transform duration-200" :class="{'rotate-180': open}"></i>
                </button>
                
                <!-- Menú desplegable -->
                <div x-show="open" x-transition.opacity x-cloak class="absolute left-0 mt-1 w-full bg-white rounded-md shadow-md border border-gray-200">
                    <a href="{{ url_for('formulario_empresa') }}" class="block px-4 py-2 text-sm text-gray-700 hover:bg-gray-100 hover:text-indigo-600">
                        Empresa
                    </a>
                    <a href="{{ url_for('formulario_natural') }}" class="block px-4 py-2 text-sm text-gray-700 hover:bg-gray-100 hover:text-indigo-600">
                        Natural
                    </a>
                    <a href="{{ url_for('buscar') }}" class="block px-4 py-2 text-sm text-gray-700 hover:bg-gray-100 hover:text-indigo-600">
                        Búsqueda
                    </a>
                </div>
            </div>

            <a href="{{ url_for('facturas') }}" class="group flex items-center px-3 py-2 text-sm font-medium rounded-md text-gray-700 hover:bg-gray-100 hover:text-indigo-600 transition">
                <i class="fas fa-file-invoice-dollar w-5 h-5 mr-3 text-gray-400 group-hover:text-indigo-600"></i>
                Facturas
            </a>
        </div>

        <!-- Herramientas -->
        <div class="border-t border-gray-200 mt-4 pt-4">
            <h3 class="px-3 text-xs font-semibold text-gray-500 uppercase tracking-wider mb-3">Herramientas</h3>
            <div class="space-y-1">
                <a href="#" class="group flex items-center px-3 py-2 text-sm font-medium rounded-md text-gray-700 hover:bg-gray-100 hover:text-indigo-600 transition">
                    <i class="fas fa-cog w-5 h-5 mr-3 text-gray-400 group-hover:text-indigo-600"></i>
                    Configuración
                </a>
                <a href="{{ url_for('logout') }}" class="group flex items-center px-3 py-2 text-sm font-medium rounded-md text-red-600 hover:bg-red-50 hover:text-red-700 transition">
                    <i class="fas fa-sign-out-alt w-5 h-5 mr-3 text-red-500 group-hover:text-red-700"></i>
                    Cerrar Sesión
                </a>
            </div>
        </div>
    </nav>
</div>

<!-- Alpine.js para manejar el dropdown -->
<script src="https://cdn.jsdelivr.net/npm/alpinejs@3.x/dist/cdn.min.js" defer></script>
